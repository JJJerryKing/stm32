# stm32
stm32基础实验，各种外设应用

## freertos-多任务创建
### 实验目的
    掌握创建动态任务的流程
    了解静态任务
### 实验内容
    创建两个LED闪烁任务，闪烁频率不同

## freertos-任务管理
### 实验目的
    掌握任务状态的概念和任务状态迁移
    掌握常用的任务函数
    减少任务中的阻塞（延迟）
### 实验内容
    创建两个任务，一个是LED任务，另一个是按键任务，LED任务显示LED运行状态，按键任务检测按键按下与否对LED任务进行挂起与恢复
### 注意
    1.优先级问题 LED任务优先级高于按键任务时，LED任务卡死
    2.按键不能做延时消抖，按键任务里有延时时，LED任务自挂起状态唤醒后卡死

## freertos-消息队列
### 实验目的
    掌握队列的使用方法
### 实验内容
    创建了两个任务，一个是发送消息任务，一个是获取消息任务，两个任务独立运行，发送消息任务是通过检测按键的按下情况来发送消息，假如发送消息不成功，就把返回的错误情代码在串口打印出来，另一个任务是获取消息任务， 在消息队列没有消息之前一直等待消息，一旦获取到消息就把消息打印在串口调试助手里

## freertos-二值信号量同步
### 实验目的
    掌握二值信号量的使用
    熟悉二值信号量同步的概念
    进一步理解操作系统高优先级打断低优先级
### 实验内容
    创建了两个任务，一个是获取信号量任务，一个是释放信号量任务，两个任务独立运行，获取信号量任务是一直在等待信号量，其等待时间 是 portMAX_DELAY，等到获取到信号量之后，任务开始执行任务代码，如此反复等待另 外任务释放的信号量。 释放信号量任务在检测按键是否按下，如果按下则释放信号量，此时释放信号量会唤醒获取任务，获取任务开始运行，然后形成两个任务间的同步，因为这个任务是高优先级，如果没按下按键，那么信号量就不会释放，只有当信号量释放的时候，获取信号量的任务才会被唤醒，如此一来就达到任务与任务的同步，同时程序的运行会在串口打印出相关信息。

## freertos-计数信号量
### 实验目的
    进一步理解优先级-同一级优先级
    掌握计数信号量的使用
### 实验内容
    模拟停车场工作运行。在创建信号量的时候初始化 10个可用的信号量，并且创建了两个任务：一个是获取信号量任务，一个是释放信号量任务，两个任 独立运行，获取信号量任务是通过按下 KEY1 按键进行信号量的获取，模拟停车场停车操 作，其等待时间是 0，在串口调试助手输出相应信息。释放信号量任务则是信号量的释放，释放信号量任务通过按下 KEY2 按键进行信号量的释放，模拟停车场取车操作，在串口调试助手输出相应信息。
###注意
    1.FreeRTOSconfig.h文件增加#define configUSE_COUNTING_SEMAPHORES 	1才能使用计数信号量

## freertos-互斥信号量
### 实验目的
    进一步理解任务里添加延迟和没有延迟的区别
    掌握互斥信号量的使用
    理解翻转优先级问题和互斥信号量的继承优先级
### 实验内容
    设置了三个任务。模拟翻转优先级问题
    high_task：高优先级任务，获取二值信号量触发
    middle_task：中优先级任务，简单引用任务
    low_task：低优先级任务，和高优先级任务一样需获取同一个二值信号量才能触发，占用信号量的时间比较长
    讲上述二值信号量更换成互斥信号量，验证互斥信号量的继承优先级机制
###注意
    1.FreeRTOSconfig.h文件增加#define configUSE_MUTEXES 	1才能使用互斥信号量
